/*Obfuscated by JShaman.com*/const app=getApp();var request=require('../../utils/request.js');var QQMapWX=require('../../utils/qqmap-wx-jssdk.min.js');var qqmapsdk=null;Page({'data':{'txkey':'3DOBZ-F5PKU-UJ2VG-BRSGH-FMQ6J-GSBJT','cityId':null,'cityName':null,'StatusBar':app['globalData']['StatusBar'],'CustomBar':app['globalData']['CustomBar'],'rList':[],'dList':[],'hidden':!![]},'onLoad'(){wx['showLoading']({'title':'加载中'});qqmapsdk=new QQMapWX({'key':this['data']['txkey']});request['getMtCityList'](_0x5599a9=>{this['setData']({'list':_0x5599a9,'listCur':_0x5599a9[0x9dacd^0x9dacd]['py']},()=>{wx['hideLoading']();});let _0x3e2e97=null;_0x5599a9['forEach']((_0x3cbc71,_0x64a3c7)=>{_0x3cbc71['list']['forEach']((_0x215856,_0x6c6422)=>{if(_0x215856['name']=='北京'||_0x215856['name']=='上海'||_0x215856['name']=='广州'||_0x215856['name']=='杭州'||_0x215856['name']=='成都'||_0x215856['name']=='深圳'||_0x215856['name']=='重庆'||_0x215856['name']=='南京'||_0x215856['name']=='合肥'){this['data']['rList']['push'](_0x215856);}else if(_0x215856['name']=='荆州'){_0x3e2e97=_0x215856;}});});this['data']['rList']['splice'](0x858f6^0x858f6,0x7733e^0x7733e,_0x3e2e97);this['setData']({'rList':this['data']['rList']});this['getLocation']();});},'rItemClick'(_0x116160){let _0x40e1c9=this['data']['rList'][_0x116160['currentTarget']['dataset']['index']];this['setData']({'cityId':_0x40e1c9['id'],'cityName':_0x40e1c9['name']});wx['navigateBack']();},'itemClick'(_0xaa00a9){let _0x4730d8=_0xaa00a9['currentTarget']['dataset']['index'];let _0x54ecab=_0xaa00a9['currentTarget']['dataset']['pindex'];let _0x2a437d=this['data']['list'][_0x54ecab]['list'][_0x4730d8];this['setData']({'cityId':_0x2a437d['id'],'cityName':_0x2a437d['name']});wx['navigateBack']();},'getLocation'(){let _0x11f5b1=wx['getStorageSync']('dCityList');if(_0x11f5b1!=''&&_0x11f5b1!=null&&_0x11f5b1!=undefined&&_0x11f5b1['length']>(0xdaca8^0xdaca8)){let _0x9519b1=JSON['parse'](_0x11f5b1);this['setData']({'dList':_0x9519b1});}request['getLocation'](_0x43c640=>{qqmapsdk['reverseGeocoder']({'location':{'latitude':_0x43c640['lat'],'longitude':_0x43c640['lon']},'success':_0x492663=>{let _0x2b3a58=null;let _0x3db12f=_0x492663['result']['ad_info']['city'];this['data']['list']['forEach']((_0x55e5c0,_0x501e12)=>{_0x55e5c0['list']['forEach']((_0x2a7150,_0x5a25a5)=>{if(_0x3db12f['indexOf'](_0x2a7150['name'])!=-(0x4c07f^0x4c07e)||_0x2a7150['name']['indexOf'](_0x3db12f)!=-(0x7ec9f^0x7ec9e)){_0x2b3a58=_0x2a7150;}});});if(_0x2b3a58!=null){let _0x44d0b3=![];this['data']['dList']['forEach']((_0x4b746a,_0x346a55)=>{if(_0x2b3a58['id']==_0x4b746a['id']){_0x44d0b3=!![];}});if(_0x44d0b3==![]){this['data']['dList']['push'](_0x2b3a58);this['setData']({'dList':this['data']['dList'],'cityId':this['data']['dList'][0x4b8f3^0x4b8f3]['id'],'cityName':this['data']['dList'][0xc125d^0xc125d]['name']});}}},'fail':function(_0x2bb096){}});});},'onReady'(){let _0x310267=this;wx['createSelectorQuery']()['select']('.indexBar-box')['boundingClientRect'](function(_0x702602){_0x310267['setData']({'boxTop':_0x702602['top']});})['exec']();wx['createSelectorQuery']()['select']('.indexes')['boundingClientRect'](function(_0x49237d){_0x310267['setData']({'barTop':_0x49237d['top']});})['exec']();},'getCur'(_0x20eb21){this['setData']({'hidden':![],'listCur':this['data']['list'][_0x20eb21['target']['id']]['py']});},'setCur'(_0x47b115){this['setData']({'hidden':!![],'listCur':this['data']['listCur']});},'tMove'(_0x5609fb){let _0x45c6e7=_0x5609fb['touches'][0x4cd15^0x4cd15]['clientY'],_0x2cfe86=this['data']['boxTop'],_0x3b790d=this;if(_0x45c6e7>_0x2cfe86){let _0x385bf1=parseInt((_0x45c6e7-_0x2cfe86)/(0x932dc^0x932c8));this['setData']({'listCur':_0x3b790d['data']['list'][_0x385bf1]['py']});};},'tStart'(){this['setData']({'hidden':![]});},'tEnd'(){this['setData']({'hidden':!![],'listCurID':this['data']['listCur']});},'indexSelect'(_0x55d890){let _0x930f0=this;let _0x791d86=this['data']['barHeight'];let _0x4697a6=this['data']['list'];let _0xc46b18=Math['ceil'](_0x4697a6['length']*_0x55d890['detail']['y']/_0x791d86);for(let _0x2c8e47=0x0;_0x2c8e47<_0x4697a6['length'];_0x2c8e47++){if(_0xc46b18<_0x2c8e47+0x1){_0x930f0['setData']({'listCur':_0x4697a6[_0x2c8e47]['py'],'movableY':_0x2c8e47*0x14});return![];}}},'onUnload'(){wx['setStorageSync']('dCityList',JSON['stringify'](this['data']['dList']));if(this['data']['cityId']==null){this['data']['cityId']=this['data']['dList'][0x0]['id'];this['data']['cityName']=this['data']['dList'][0x5fafe^0x5fafe]['name'];}wx['setStorageSync']('cityId',this['data']['cityId']);wx['setStorageSync']('cityName',this['data']['cityName']);var _0x15a2bc=getCurrentPages();var _0x4c2c97=_0x15a2bc[_0x15a2bc['length']-(0x909fc^0x909fe)];_0x4c2c97['refreshCity'](this['data']['cityId'],this['data']['cityName']);}});